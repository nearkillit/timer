{"ast":null,"code":"// 初期State\nconst initialState = {\n  uid: 0,\n  timers: [{\n    id: 0,\n    name: '筋トレ',\n    interval: [40, 20, 10],\n    loop: 5\n  }]\n};\nconst initialTimer = {\n  id: 0,\n  name: '',\n  interval: [],\n  loop: 5\n}; // Reducer処理\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_TIMER':\n      {\n        const newTimer = Object.assign({}, initialTimer);\n        const newTimers = state.timers;\n        newTimer.name = action.value.timerName; // idの付与\n\n        newTimer.id = newTimers.reduce((p, c) => p > c.id ? p : c.id, 0) + 1;\n        newTimers.push(newTimer);\n        return { ...state,\n          timers: newTimers\n        };\n      }\n\n    case 'ADD_TIMER':\n      {\n        const newTimers = state.timers.filter(t => t.id !== action.value.timersId);\n        console.log(newTimers);\n        return { ...state,\n          timers: newTimers\n        };\n      }\n\n    case 'ADD_INTERVAL_TIMER':\n      {\n        const getTimers = state.timers;\n        const getTimer = getTimers.filter(t => t.id === action.value.timersId)[0];\n        getTimer.interval.push(10);\n        const newTimers = getTimers.map(t => t.id === action.value.timersId ? getTimer : t);\n        return { ...state,\n          timers: newTimers\n        };\n      }\n\n    case 'UPDATE_INTERVAL_TIMER':\n      {\n        const getTimers = state.timers;\n        const getTimer = getTimers.filter(t => t.id === action.value.timersId)[0];\n        getTimer.interval[action.value.index] = action.value.intervalTime * 1;\n        const newTimers = getTimers.map(t => t.id === action.value.timersId ? getTimer : t);\n        return { ...state,\n          timers: newTimers\n        };\n      }\n\n    case 'UPDATE_LOOP':\n      {\n        const getTimers = state.timers;\n        const getTimer = getTimers.filter(t => t.id === action.value.timersId)[0];\n        getTimer.loop = action.value.loop * 1;\n        const newTimers = getTimers.map(t => t.id === action.value.timersId ? getTimer : t);\n        return { ...state,\n          timers: newTimers\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/kiritoshimura/Desktop/intervaltimer/frontend/src/modules/reducer.js"],"names":["initialState","uid","timers","id","name","interval","loop","initialTimer","reducer","state","action","type","newTimer","Object","assign","newTimers","value","timerName","reduce","p","c","push","filter","t","timersId","console","log","getTimers","getTimer","map","index","intervalTime"],"mappings":"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","sourcesContent":["// 初期State\nconst initialState = {    \n        uid:0,        \n        timers:[\n          {\n            id:0,\n            name:'筋トレ',            \n            interval:[40,20,10],\n            loop:5\n          }\n        ]      \n  }\n\nconst initialTimer = { \n            id:0,\n            name:'',            \n            interval:[],\n            loop:5\n          }\n\n  // Reducer処理\n  const reducer = (state = initialState, action) => {\n    switch (action.type) {\n      case 'ADD_TIMER': {\n        const newTimer = Object.assign({},initialTimer)\n        const newTimers = state.timers\n        newTimer.name = action.value.timerName  \n        // idの付与\n        newTimer.id = newTimers.reduce((p,c) => p > c.id ? p : c.id , 0) + 1\n        newTimers.push(newTimer)             \n        return { ...state, timers: newTimers }\n      }\n      case 'ADD_TIMER': {        \n        const newTimers = state.timers.filter(t => t.id !== action.value.timersId)         \n        console.log(newTimers);        \n        return { ...state, timers: newTimers }\n      }\n      case 'ADD_INTERVAL_TIMER': {\n        const getTimers = state.timers\n        const getTimer = getTimers.filter(t => t.id === action.value.timersId)[0]\n        getTimer.interval.push(10)\n        const newTimers = getTimers.map(t => t.id === action.value.timersId ? getTimer : t)        \n        return { ...state, timers: newTimers }\n      }\n      case 'UPDATE_INTERVAL_TIMER': {        \n        const getTimers = state.timers\n        const getTimer = getTimers.filter(t => t.id === action.value.timersId)[0]\n        getTimer.interval[action.value.index] = action.value.intervalTime * 1        \n        const newTimers = getTimers.map(t => t.id === action.value.timersId ? getTimer : t)        \n        return { ...state, timers: newTimers }\n      }\n      case 'UPDATE_LOOP': {\n        const getTimers = state.timers\n        const getTimer = getTimers.filter(t => t.id === action.value.timersId)[0]        \n        getTimer.loop = action.value.loop * 1        \n        const newTimers = getTimers.map(t => t.id === action.value.timersId ? getTimer : t)        \n        return { ...state, timers: newTimers }\n      }\n      default: {\n        return state\n      }\n    }\n  }\n  \n  export default reducer"]},"metadata":{},"sourceType":"module"}