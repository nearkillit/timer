{"ast":null,"code":"var _jsxFileName = \"/Users/kiritoshimura/Desktop/intervaltimer/frontend/src/components/timer_view.js\",\n    _s = $RefreshSig$();\n\n// react\nimport { useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles'; // component\n\nimport Timer from './timer'; // mui\n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  root: {\n    textAlign: 'center'\n  },\n  cardContents: {\n    textAlign: 'center'\n  },\n  waitTime: {\n    color: '#AAA',\n    backgroundColor: '#CCC',\n    transition: '1s'\n  },\n  startTime: {}\n});\n\nfunction TimerView(props) {\n  _s();\n\n  const classes = useStyles();\n  const state = useSelector(state => state);\n  const [start, setStart] = useState(0);\n  const [timeCountDown, setTimeCountDown] = useState('');\n  const getTimer = props.timer;\n  const [interval, setInterval] = useState(getTimer.interval);\n  const getIntervalOrigin = getTimer.interval;\n  let countDown;\n\n  const timerStart = () => {\n    setStart(start + 1);\n    timerCountDown();\n  };\n\n  const timerStop = () => {\n    console.log('stop');\n    clearInterval(timeCountDown);\n  };\n\n  const timerRestart = () => {};\n\n  const timerReset = () => {};\n\n  const timerCountDown = () => {\n    if (interval[start] < 1) {\n      setStart(start + 1);\n    }\n\n    countDown = setInterval(() => {\n      console.log('start countdown');\n      const newInterval = interval.concat();\n      newInterval[start] -= 1;\n      setInterval(newInterval);\n      console.log(newInterval);\n      console.log('end countdown');\n    }, 1000);\n    setTimeCountDown(countDown);\n  };\n\n  useEffect(() => {\n    if (start > interval.length) {\n      setStart(1);\n    }\n  }, [start]);\n  useEffect(() => {\n    if (interval[start] < 0) {\n      setInterval(getIntervalOrigin);\n      setStart(start + 1);\n    }\n  }, [interval]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [interval.map((t, i) => i === start ? /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h1\",\n      component: \"h1\",\n      className: classes.startTime,\n      children: t\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h1\",\n      component: \"h1\",\n      className: classes.waitTime,\n      children: t\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      component: \"h5\",\n      children: [\"\\u3042\\u3068\", getTimer.loop, \"\\u5468\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }, this), start !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: timerStop,\n        children: \"\\u30B9\\u30C8\\u30C3\\u30D7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        children: \"\\u30EA\\u30B9\\u30BF\\u30FC\\u30C8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        children: \"\\u30EA\\u30BB\\u30C3\\u30C8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: timerStart,\n        children: \"\\u30B9\\u30BF\\u30FC\\u30C8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TimerView, \"KjwbCiWfUQLGHawSWLXG7drmBjU=\", false, function () {\n  return [useStyles, useSelector];\n});\n\n_c = TimerView;\nexport default TimerView;\n\nvar _c;\n\n$RefreshReg$(_c, \"TimerView\");","map":{"version":3,"sources":["/Users/kiritoshimura/Desktop/intervaltimer/frontend/src/components/timer_view.js"],"names":["useParams","useSelector","useDispatch","useEffect","useState","makeStyles","Timer","Grid","Typography","Button","useStyles","root","textAlign","cardContents","waitTime","color","backgroundColor","transition","startTime","TimerView","props","classes","state","start","setStart","timeCountDown","setTimeCountDown","getTimer","timer","interval","setInterval","getIntervalOrigin","countDown","timerStart","timerCountDown","timerStop","console","log","clearInterval","timerRestart","timerReset","newInterval","concat","length","map","t","i","loop"],"mappings":"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","sourcesContent":["// react\nimport { useParams } from 'react-router-dom'\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\n// component\nimport Timer from './timer'\n\n// mui\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles({\n    root: {    \n      textAlign: 'center'\n    },\n    cardContents: {\n      textAlign: 'center',      \n    },\n    waitTime: {\n        color: '#AAA',\n        backgroundColor: '#CCC',\n        transition: '1s'\n    },\n    startTime: {\n        \n    },\n  });\n\nfunction TimerView(props){\n    const classes = useStyles();    \n    const state = useSelector(state => state)\n    const [start, setStart] = useState(0)\n    const [timeCountDown, setTimeCountDown] = useState('')    \n    const getTimer = props.timer\n    const [interval, setInterval] = useState(getTimer.interval)\n    const getIntervalOrigin = getTimer.interval\n    let countDown\n\n    const timerStart = () => {\n      setStart(start + 1)\n      timerCountDown()    \n    }\n\n    const timerStop = () => {\n        console.log('stop');        \n        clearInterval(timeCountDown)\n    }\n\n    const timerRestart = () => {\n        \n    }\n\n    const timerReset = () => {\n        \n    }\n\n    const timerCountDown = () => {\n      if(interval[start] < 1){\n        setStart(start + 1)\n      }\n      \n      countDown = setInterval(() => {\n        console.log('start countdown');\n        const newInterval = interval.concat()\n        newInterval[start] -= 1\n        setInterval(newInterval)\n        console.log(newInterval)\n        console.log('end countdown');\n      }, 1000)\n\n      setTimeCountDown(countDown)\n      \n    }    \n\n    useEffect(()=>{\n      if(start > interval.length){\n          setStart(1)\n      }\n    },[start])\n\n    useEffect(()=>{      \n      if(interval[start] < 0){\n          setInterval(getIntervalOrigin)\n          setStart(start + 1)\n      }\n    },[interval])\n\n    return (\n        <div>\n          {interval.map((t,i) => \n            i === start ?\n            <Typography variant=\"h1\" component=\"h1\" key={i} className={classes.startTime}>\n              {t}\n            </Typography>\n            :\n            <Typography variant=\"h1\" component=\"h1\" key={i} className={classes.waitTime}>\n              {t}\n            </Typography>\n            )}          \n          <Typography variant=\"h5\" component=\"h5\" >\n            あと{getTimer.loop}周\n          </Typography>\n          {start !== 0 ?                  \n            <div>\n              <Button onClick={timerStop}>ストップ</Button>\n              <Button>リスタート</Button>\n              <Button>リセット</Button>\n            </div>     \n            :\n            <div>\n              <Button onClick={timerStart}>スタート</Button>\n            </div>                   \n          }                    \n        </div>    \n    )\n}\n\nexport default TimerView"]},"metadata":{},"sourceType":"module"}